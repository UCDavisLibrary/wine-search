<script>

  const SearchMixin = subclass =>

  class SearchInterface extends subclass {
      constructor() {
        super();
        this._iocInject('SearchModel');
      }

      ready() {
        super.ready();
        this._onSearchUpdate(this._getSearch());
      }

      _search(body) {
        return this.SearchModel.search(body);
      }

      _getSearch() {
        return this.SearchModel.getSearch();
      }

      _getDefaultSearch() {
        return this.SearchModel.getDefaultSearch();
      }

      _clearSearchFilters() {
        return this.SearchModel.clearFilters();
      }

      _setSort(key = '', order = '', exec = true) {
        return this.SearchModel.setSort(key, order, exec);
      }

      _removeSearchRangeFilter(key, exec = true) {
        return this.SearchModel.removeRangeFilter(key, exec);
      }

      _addSearchRangeFilter(key, range, exec = true) {
        return this.SearchModel.addRangeFilter(key, range, exec);
      }

      _appendSearchFilter(key, value, exec = true) {
        return this.SearchModel.appendFilter(key, value, exec);
      }

      _removeSearchFilter(key, value, exec = true) {
        return this.SearchModel.removeFilter(key, value, exec);
      }

      _suggest(text, exec = true) {
        return this.SearchModel.suggest(text, exec);
      }

      _textSearch(text, options) {
        return this.SearchModel.textSearch(text, options);
      }

      _setSearchPaging(from, size, exec = true) {
        return this.SearchModel.setPaging(from, size, exec);
      }

      _onSearchUpdate(e) {
        // implement me
      }
  }
</script>